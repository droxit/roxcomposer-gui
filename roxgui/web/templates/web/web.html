<!-- Main web page. -->

{% extends "base/base.html" %}

{% load static %}

{% block title %}
<title>ROXcomposer</title>
<link rel="stylesheet" type="text/css" href="{% static 'web/css/web.css' %}">
{% endblock title %}

{% block content %}
<h1>Welcome!</h1>

{% if messages %}
<div class="alert alert-warning">
    <strong>Error concerning:</strong>
    {% for message in messages %}
    {{ message }}
    {% endfor %}
</div>
{% endif %}

{% if available_service_names %}
<form action="start_service" method="post">
    {% csrf_token %}
    <select name="available_service_names" multiple>
        {% for name in available_service_names %}
        <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
    </select>
    <input type="submit" value="Start">
</form>
<form action="stop_service" method="post">
    {% csrf_token %}
    <select name="running_service_names" multiple>
        {% for name in running_service_names %}
        <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
    </select>
    <input type="submit" value="Stop">
</form>
{% else %}
<p>No services available.</p>
{% endif %}

{% if pipeline_data %}
<ul>
    {% for data in pipeline_data %}
    <li>{{ data.0 }}</li>
    <li>{{ data.1 }}</li>
    <li>{{ data.2 }}</li>
    {% endfor %}
</ul>
{% endif %}

<script src="{% static 'web/js/web.js'%}"></script>
{% endblock content %}
